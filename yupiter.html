<!DOCTYPE html>
<html lang="hy">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>’Ö’∏÷Ç’∫’´’ø’•÷Ä</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; font-family: 'Arial', sans-serif; }
        canvas { display: block; }
        
        /* ‘∏’∂’§’∞’°’∂’∏÷Ç÷Ä ’∏’≥’•÷Ä ’ß’Ø÷Ä’°’∂’∂’•÷Ä’´ ’∞’°’¥’°÷Ä */
        .screen {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: #fff;
            z-index: 200;
            background-color: rgba(0, 0, 0, 0.9);
            transition: opacity 1s;
        }

        /* ’Ñ’•’Ø’∂’°÷Ä’Ø’°’µ’´’∂ ‘∑’Ø÷Ä’°’∂ */
        #startScreen {
            background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 50, 0.9));
        }

        /* ’ì’°’Ω’ø’•÷Ä’´ ’ë’∏÷Ç÷Å’°’§÷Ä’∏÷Ç’¥ */
        #factDisplay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            color: #fff;
            background: rgba(0, 0, 0, 0.8);
            padding: 30px 50px;
            border-radius: 15px;
            border: 5px solid #ffcc00;
            max-width: 700px;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 1.5s, visibility 1.5s;
        }

        #factDisplay.show {
            opacity: 1;
            visibility: visible;
        }
        
        #factText {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #ffe082;
            text-shadow: 0 0 15px #ffcc00;
        }

        /* ‘ø’∏’≥’°’Ø’∂’•÷Ä’´ ’∏’≥’•÷Ä */
        button {
            padding: 15px 30px;
            font-size: 1.2em;
            background-color: #00ff88;
            color: #000;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #00cc66;
        }
    </style>
</head>
<body>
    
    <div id="startScreen" class="screen">
        <h1>üöÄ ’É’°’∂’°’∫’°÷Ä’∞’∏÷Ä’§’∏÷Ç’©’µ’∏÷Ç’∂ ’§’•’∫’´ ’Ö’∏÷Ç’∫’´’ø’•÷Ä</h1>
        <p>’Ñ’´’°÷Å’•÷Ñ ’¥’•’¶ ’Ö’∏÷Ç’∫’´’ø’•÷Ä’´ 3D ’∞’•’ø’°’¶’∏’ø’∏÷Ç’©’µ’°’∂’®</p>
        <button id="startButton">’ç‘ø’ç‘µ‘º ‘±’å‘±’î‘µ‘º’à’í‘π’Ö’à’í’Ü‘∏</button>
    </div>

    <div id="factDisplay">
        <p id="factText"></p>
        <p id="progress"><small>’ì’°’Ω’ø <span id="factCounter">1</span>-’® 5-’´÷Å</small></p>
        <button><a href="index.html">‘≥‘º‘Ω‘±’é’à’ê ‘∑’ã</a></button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        // -------------------------
        // THREE.JS ‘ø‘±’ê‘≥‘±’é’à’ê’à’í’Ñ’Ü‘µ’ê
        // -------------------------
        
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);
        
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x000000); 
        document.body.appendChild(renderer.domElement);
        
        // ‘º’∏÷Ç’Ω’°’æ’∏÷Ä’∏÷Ç’©’µ’∏÷Ç’∂
        const ambientLight = new THREE.AmbientLight(0x404040); 
        scene.add(ambientLight);
        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
        directionalLight.position.set(1, 0, 0); 
        scene.add(directionalLight);

        const objects = {};
        const planetData = {
            sun: { radius: 100, color: 0xffaa00, distance: 0 },
            earth: { radius: 10, color: 0x0066ff, distance: 300 },
            jupiter: { radius: 50, color: 0xcc9966, distance: 800 } 
        };

        let currentFactObject = null; 
        let phase = 'initial_view';
        let factIndex = 0;
        let flightProgress = 0; 
        const flightSpeed = 0.003; 

        // ’ñ’∏÷Ç’∂’Ø÷Å’´’°’∂’•÷Ä’ù ’ï’¢’µ’•’Ø’ø’∂’•÷Ä ’ç’ø’•’≤’Æ’•’¨’∏÷Ç
        function createPlanet(data, name) {
            const geometry = new THREE.SphereGeometry(data.radius, 64, 64);
            const material = new THREE.MeshPhongMaterial({ 
                color: data.color, 
                shininess: (name === 'sun') ? 100 : 30 
            });
            const mesh = new THREE.Mesh(geometry, material);
            if (name !== 'sun') {
                mesh.position.set(data.distance, 0, 0);
            }
            mesh.name = name;
            objects[name] = mesh;
            scene.add(mesh);
            return mesh;
        }

        function createStars() {
            const starGeometry = new THREE.BufferGeometry();
            const positions = new Float32Array(5000 * 3);
            for (let i = 0; i < 5000; i++) {
                const r = 4000;
                const theta = 2 * Math.PI * Math.random();
                const phi = Math.acos(2 * Math.random() - 1);
                positions[i * 3] = r * Math.sin(phi) * Math.cos(theta);
                positions[i * 3 + 1] = r * Math.sin(phi) * Math.sin(theta);
                positions[i * 3 + 2] = r * Math.cos(phi);
            }
            starGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            const starMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 3, sizeAttenuation: true });
            const stars = new THREE.Points(starGeometry, starMaterial);
            stars.name = 'starField';
            scene.add(stars);
        }

        // ’ç’Ø’¶’¢’∂’°’Ø’°’∂ ’ï’¢’µ’•’Ø’ø’∂’•÷Ä
        createPlanet(planetData.sun, 'sun');
        createPlanet(planetData.earth, 'earth');
        createPlanet(planetData.jupiter, 'jupiter');
        createStars();
        scene.add(camera);

        // ’è’•’Ω’°’≠÷Å’´’Ø’® ’§÷Ä’æ’∏÷Ç’¥ ’ß ‘µ÷Ä’Ø÷Ä’´ ’¥’∏’ø
        camera.position.set(planetData.earth.distance - 50, 20, 100); 
        camera.lookAt(objects.jupiter.position);


        // -------------------------
        // ’ç’Ö’à’í‘∫‘µ‘ª ‘ø‘±’å‘±’é‘±’ê’à’í’Ñ
        // -------------------------

        const jupiterFacts = [
            "’ì’°’Ω’ø 1. ’â’°÷É’®: ’Ö’∏÷Ç’∫’´’ø’•÷Ä’® ‘±÷Ä’•’£’°’Ø’∂’°’µ’´’∂ ’∞’°’¥’°’Ø’°÷Ä’£’´ ’°’¥’•’∂’°’¥’•’Æ ’¥’∏’¨’∏÷Ä’°’Ø’∂ ’ß. ’∂÷Ä’° ’¥’•’ª ’Ø’ø’•’≤’°’æ’∏÷Ä’æ’•÷Ä ’°’æ’•’¨’´ ÷Ñ’°’∂ 1300 ‘µ÷Ä’Ø’´÷Ä:",
            "’ì’°’Ω’ø 2. ’Ñ’•’Æ ‘ø’°÷Ä’¥’´÷Ä ‘ø’•’ø: ‘±’µ’∂ ’∞’Ω’Ø’°’µ’°’Ø’°’∂ ÷É’∏’©’∏÷Ä’´’Ø ’ß, ’∏÷Ä’® ’§’´’ø’æ’∏÷Ç’¥ ’ß ’°’æ’•’¨’´ ÷Ñ’°’∂ 350 ’ø’°÷Ä’´ ÷á ’°’æ’•’¨’´ ’¥’•’Æ ’ß, ÷Ñ’°’∂ ‘µ÷Ä’Ø’´÷Ä’®:",
            "’ì’°’Ω’ø 3. ’ï÷Ä’æ’° ’è÷á’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’®: ’Ö’∏÷Ç’∫’´’ø’•÷Ä’∂ ’∏÷Ç’∂’´ ’°’¥’•’∂’°’Ø’°÷Ä’≥ ÷Ö÷Ä’® ‘±÷Ä’•’£’°’Ø’∂’°’µ’´’∂ ’∞’°’¥’°’Ø’°÷Ä’£’∏÷Ç’¥’ù ’¥’∏’ø 10 ’™’°’¥:",
            "’ì’°’Ω’ø 4. ‘±÷Ä’¢’°’∂’µ’°’Ø’∂’•÷Ä: ‘µ’æ÷Ä’∏’∫’° ’°÷Ä’¢’°’∂’µ’°’Ø’® ’•’∂’©’°’§÷Ä’°’¢’°÷Ä ’´÷Ä ’Ω’°’º÷Å’• ’Ø’•’≤÷á’´ ’ø’°’Ø ’©’°÷Ñ÷Å’∂’∏÷Ç’¥ ’ß ’∞’Ω’Ø’°’µ’°’Ø’°’∂ ÷Ö’æ’Ø’´’°’∂’∏’Ω:",
            "’ì’°’Ω’ø 5. ‘ø’°’¶’¥’∏÷Ç’©’µ’∏÷Ç’∂: ’Ñ’∏’¨’∏÷Ä’°’Ø’® ’Ø’°’¶’¥’æ’°’Æ ’ß ’∞’´’¥’∂’°’Ø’°’∂’∏÷Ç’¥ ’ª÷Ä’°’Æ’∂’´÷Å ÷á ’∞’•’¨’´’∏÷Ç’¥’´÷Å’ù ’π’∏÷Ç’∂’•’∂’°’¨’∏’æ ’∫’´’∂’§ ’¥’°’Ø’•÷Ä÷á’∏÷Ç’µ’©÷â",
        ];

        const startPos = camera.position.clone();
        const targetPos = objects.jupiter.position.clone().add(new THREE.Vector3(70, 0, 0)); 
        const entryPos = objects.jupiter.position.clone().add(new THREE.Vector3(0, 0, 10)); 

        document.getElementById('startButton').addEventListener('click', () => {
            document.getElementById('startScreen').style.opacity = 0;
            setTimeout(() => {
                document.getElementById('startScreen').style.display = 'none';
                startFlight();
            }, 1000);
        });

        function resetSimulation() {
            // ’é’•÷Ä’°’Ø’°’∂’£’∂’•’¨ ’¢’∏’¨’∏÷Ä ’∫’°÷Ä’°’¥’•’ø÷Ä’•÷Ä’®
            phase = 'initial_view';
            factIndex = 0;
            flightProgress = 0;
            cleanFactObjects();
            
            // ’é’•÷Ä’°’§’°÷Ä’±’∂’•’¨ ÷Ö’¢’µ’•’Ø’ø’∂’•÷Ä’® ’ø’•’Ω’°÷Ä’°’∂
            objects.jupiter.visible = true;
            objects.earth.visible = true;
            objects.sun.visible = true;
            directionalLight.intensity = 1;

            // ’é’•÷Ä’°’§’°÷Ä’±’∂’•’¨ ’ø’•’Ω’°’≠÷Å’´’Ø’® ’Ω’Ø’¶’¢’∂’°’Ø’°’∂ ’§’´÷Ä÷Ñ
            camera.position.copy(startPos);
            camera.lookAt(objects.jupiter.position);

            document.getElementById('factDisplay').style.opacity = 0;
            document.getElementById('factDisplay').style.visibility = 'hidden';
            document.getElementById('returnButton').style.display = 'none';

            document.getElementById('startScreen').style.display = 'flex';
            setTimeout(() => {
                document.getElementById('startScreen').style.opacity = 1;
            }, 50);
        }

        function startFlight() {
            // ’ç’Ø’¶’¢’∂’°’Ø’°’∂ ’§’´÷Ä÷Ñ’•÷Ä’® ’∫’•’ø÷Ñ ’ß ’≥’´’∑’ø ’§÷Ä’æ’•’∂ ’°’¥’•’∂ ’°’∂’£’°’¥
            startPos.copy(objects.earth.position).add(new THREE.Vector3(-50, 20, 100)); 
            camera.position.copy(startPos);
            camera.lookAt(objects.jupiter.position);
            
            phase = 'flying_to_jupiter';
        }

        function cleanFactObjects() {
            if (currentFactObject) {
                scene.remove(currentFactObject);
                if (currentFactObject.geometry) currentFactObject.geometry.dispose();
                if (currentFactObject.material) currentFactObject.material.dispose();
                currentFactObject = null;
            }
        }
        
        // ’ì‘±’ç’è‘µ’ê‘ª 3D ’ï‘≤’Ö‘µ‘ø’è’Ü‘µ’ê‘ª ’ç’è‘µ’Ç‘æ’à’í’Ñ
        function createFactVisualization(index) {
            cleanFactObjects();

            switch (index) {
                case 0: // ’ì’°’Ω’ø 1. ’â’°÷É’® (1300 ‘µ÷Ä’Ø’´÷Ä)
                    // ’Ä’Ω’Ø’° ÷Å’∏÷Ç÷Å’°’§÷Ä’∏’≤ ’∏’¨’∏÷Ä’ø
                    const sphere = new THREE.SphereGeometry(100, 32, 32);
                    const material = new THREE.MeshBasicMaterial({ color: 0x00ff88, wireframe: true, transparent: true, opacity: 0.5 });
                    currentFactObject = new THREE.Mesh(sphere, material);
                    currentFactObject.position.set(0, 0, -300);
                    break;
                
                case 1: // ’ì’°’Ω’ø 2. ’Ñ’•’Æ ‘ø’°÷Ä’¥’´÷Ä ‘ø’•’ø
                    // ‘ø’°÷Ä’¥’´÷Ä, ’∫’ø’ø’æ’∏’≤ ’∞’Ω’Ø’° ÷Å’´’¨’´’∂’§÷Ä (’ì’∏’©’∏÷Ä’´’Ø)
                    const redSpot = new THREE.Mesh(
                        new THREE.CylinderGeometry(50, 50, 10, 32),
                        new THREE.MeshBasicMaterial({ color: 0xff0000, wireframe: true, transparent: true, opacity: 0.7 })
                    );
                    redSpot.position.set(0, 0, -200);
                    redSpot.rotation.x = Math.PI / 2;
                    currentFactObject = redSpot;
                    break;
                    
                case 2: // ’ì’°’Ω’ø 3. ’ï÷Ä’æ’° ’è÷á’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’® (10 ‘∫’°’¥)
                    // ‘∫’°’¥’°÷Å’∏÷Ç’µ÷Å’´ ’Ω’¨’°÷Ñ, ’∏÷Ä’® ’∫’ø’ø’æ’∏÷Ç’¥ ’ß ’Ø’ø÷Ä’∏÷Ç’Ø
                    const hand = new THREE.Mesh(
                        new THREE.BoxGeometry(4, 80, 2),
                        new THREE.MeshBasicMaterial({ color: 0xffff00 })
                    );
                    hand.position.set(0, 40, -200); 
                    currentFactObject = hand;
                    break;

                case 3: // ’ì’°’Ω’ø 4. ‘±÷Ä’¢’°’∂’µ’°’Ø’∂’•÷Ä (‘µ’æ÷Ä’∏’∫’°, ’ç’°’º÷Å’• ’ï’æ’Ø’´’°’∂’∏’Ω)
                    // ’ç’°’º÷Å’• ’°÷Ä’¢’°’∂’µ’°’Ø
                    currentFactObject = new THREE.Mesh(
                        new THREE.SphereGeometry(30, 32, 32),
                        new THREE.MeshPhongMaterial({ color: 0x88bbff, specular: 0xffffff, shininess: 100 })
                    );
                    currentFactObject.position.set(0, 0, -200);
                    break;

                case 4: // ’ì’°’Ω’ø 5. ‘ø’°’¶’¥’∏÷Ç’©’µ’∏÷Ç’∂ (H2 ÷á He)
                    // ’Ñ’∏’¨’•’Ø’∏÷Ç’¨’µ’°÷Ä ’¥’°’Ω’∂’´’Ø’∂’•÷Ä
                    const particleGroup = new THREE.Group();
                    for (let i = 0; i < 100; i++) {
                        const color = Math.random() > 0.8 ? 0xffff00 : 0xaaaaaa;
                        const particle = new THREE.Mesh(
                            new THREE.SphereGeometry(1, 8, 8),
                            new THREE.MeshBasicMaterial({ color: color })
                        );
                        particle.position.set(Math.random() * 200 - 100, Math.random() * 200 - 100, Math.random() * 200 - 300);
                        particleGroup.add(particle);
                    }
                    currentFactObject = particleGroup;
                    break;
            }

            if (currentFactObject) {
                currentFactObject.name = 'fact_visualization';
                scene.add(currentFactObject);
            }
        }


        function showNextFact() {
            if (factIndex < jupiterFacts.length) {
                document.getElementById('factText').textContent = jupiterFacts[factIndex];
                document.getElementById('factCounter').textContent = factIndex + 1;
                
                // 3D ’é’´’¶’∏÷Ç’°’¨’´’¶’°÷Å’´’°’µ’´ ’Ω’ø’•’≤’Æ’∏÷Ç’¥
                createFactVisualization(factIndex);

                document.getElementById('factDisplay').classList.add('show');
                
                setTimeout(() => {
                    document.getElementById('factDisplay').classList.remove('show');
                    factIndex++;
                    cleanFactObjects(); 
                    setTimeout(showNextFact, 1500); 
                }, 7000); 
            } else {
                // ‘±’æ’°÷Ä’ø’´ ’ß’Ø÷Ä’°’∂
                document.getElementById('factDisplay').innerHTML = `
                    <h1>‘±’å‘±’î‘µ‘º’à’í‘π’Ö’à’í’Ü’Ü ‘±’é‘±’ê’è’é‘±‘æ ‘∑</h1>
                    <p style="color: #00ff88;">‘¥’∏÷Ç÷Ñ ’∞’°’ª’∏’≤’∏÷Ç’©’µ’°’¥’¢ ’∞’•’ø’°’¶’∏’ø’•÷Å’´÷Ñ ’Ö’∏÷Ç’∫’´’ø’•÷Ä’®:</p>
                    <button id="returnButton" onclick="resetSimulation()">’é‘µ’ê‘±‘¥‘±’ê’Å ‘≥‘º‘Ω‘±’é’à’ê ‘∑’ã</button>
                `;
                document.getElementById('factDisplay').classList.add('show');
                phase = 'finished';
            }
        }


        // -------------------------
        // ‘≥’¨’≠’°’æ’∏÷Ä ‘±’∂’´’¥’°÷Å’´’∏’∂ ’ë’´’Ø’¨
        // -------------------------
        function animate() {
            requestAnimationFrame(animate);

            // ’Ñ’∏’¨’∏÷Ä’°’Ø’∂’•÷Ä’´ ’§’°’∂’§’°’≤ ’´’∂÷Ñ’∂’°’∫’ø’∏÷Ç’µ’ø
            if (objects.jupiter && objects.jupiter.visible) objects.jupiter.rotation.y += 0.002;
            
            // ’ì‘±’ç’è‘µ’ê‘ª 3D ‘±’Ü‘ª’Ñ‘±’ë‘ª’à’Ü ‘ø‘±’å‘±’é‘±’ê’à’í’Ñ
            if (phase === 'fact_display' && currentFactObject) {
                switch (factIndex) {
                    case 0: // ’â’°÷É’®
                        currentFactObject.rotation.y += 0.01;
                        break;
                    case 1: // ‘ø’°÷Ä’¥’´÷Ä ‘ø’•’ø
                        currentFactObject.rotation.z += 0.05; 
                        break;
                    case 2: // ’ï÷Ä’æ’° ’è÷á’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’®
                        currentFactObject.rotation.z -= 0.1;
                        break;
                    case 3: // ‘µ’æ÷Ä’∏’∫’°
                        currentFactObject.rotation.y += 0.005;
                        break;
                    case 4: // ‘ø’°’¶’¥’∏÷Ç’©’µ’∏÷Ç’∂
                        currentFactObject.rotation.x += 0.005;
                        currentFactObject.rotation.y += 0.005;
                        break;
                }
            }


            // ’á’°÷Ä’™’¥’°’∂ ‘ø’°’º’°’æ’°÷Ä’∏÷Ç’¥ (‘±÷Ä’°’£’°÷Å’æ’°’Æ)
            if (phase === 'flying_to_jupiter') {
                flightProgress += flightSpeed;
                const p = Math.min(flightProgress, 1);
                
                camera.position.lerpVectors(startPos, targetPos, p);
                camera.lookAt(objects.jupiter.position);

                if (p === 1) {
                    phase = 'entering_jupiter';
                    flightProgress = 0; 
                }
            } else if (phase === 'entering_jupiter') {
                flightProgress += flightSpeed * 2;
                const p = Math.min(flightProgress, 1);
                
                camera.position.lerpVectors(targetPos, entryPos, p);
                camera.lookAt(objects.jupiter.position);
                
                const stars = scene.children.find(c => c.name === 'starField');
                if (stars) stars.rotation.x += 0.05;

                if (p === 1) {
                    // ’ä’°’ø÷Ä’°’Ω’ø’æ’∏÷Ç’¥ ’•’∂÷Ñ ÷É’°’Ω’ø’•÷Ä’´ ÷Å’∏÷Ç÷Å’°’§÷Ä’¥’°’∂’®
                    objects.jupiter.visible = false;
                    objects.earth.visible = false;
                    objects.sun.visible = false;
                    directionalLight.intensity = 0.1;

                    phase = 'fact_display';
                    setTimeout(showNextFact, 1000); 
                }
            }

            renderer.render(scene, camera);
        }
        
        // ‘≥’∏÷Ä’Æ’°÷Ä’Ø’•’¨ ÷Å’´’Ø’¨’® ÷á ’Ω’∫’°’Ω’•’¨ ’¥’•’Ø’∂’°÷Ä’Ø’´ ’Ø’∏’≥’°’Ø’´’∂
        animate();

        // ’ä’°’ø’∏÷Ç’∞’°’∂’´ ’π’°÷É’® ÷É’∏’≠’•’¨’´’Ω
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
        
    </script>
</body>
</html>